<div class="my-students-container">
  <mat-toolbar color="primary">
    <span>My Students</span>
  </mat-toolbar>

  <div *ngIf="isLoading" class="loading-spinner-container">
    <mat-progress-spinner mode="indeterminate" diameter="50"></mat-progress-spinner>
  </div>


  <div *ngIf="!isLoading && allStudents.length === 0 && !searchTerm" class="no-results-message">
    You currently have no students.
  </div>

  <div class="students-grid" *ngIf="!isLoading && allStudents.length > 0">
    <mat-card *ngFor="let student of allStudents" class="student-card">
      <mat-card-header>
        <img mat-card-avatar [src]="student.profilePictureUrl || defaultProfilePic" alt="{{ student.fullName }} profile picture" class="student-avatar">
        <mat-card-title>{{ student.fullName }}</mat-card-title>
        <mat-card-subtitle *ngIf="student.chessTitle || student.rating" class="student-subtitle">
          <span *ngIf="student.chessTitle">{{ student.chessTitle }}</span>
          <span *ngIf="student.chessTitle && student.rating" class="subtitle-separator"> &middot; </span>
          <span *ngIf="student.rating">Rating: {{ student.rating }}</span>
        </mat-card-subtitle>
      </mat-card-header>
      <mat-card-content class="student-card-content">
        <p><mat-icon class="content-icon">email</mat-icon> {{ student.email }}</p>
      </mat-card-content>
    </mat-card>
  </div>
</div>
